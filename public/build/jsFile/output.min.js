"use strict";var app=angular.module("chat_bot",["ui.router"]);app.config(function($stateProvider,$urlRouterProvider,$httpProvider){$stateProvider.state("signup",{url:"/signup",controller:"signupCtrl",templateUrl:"template/partial/signup.html",resolve:{socket:function(){}}}).state("login",{url:"/login",controller:"loginCtrl",templateUrl:"template/partial/login.html",resolve:{}}),$urlRouterProvider.otherwise("/signup")}),app.controller("loginCtrl",function($scope){console.log("in login ctrl")}),app.controller("signupCtrl",function($scope,qualityControlSerevice,$state){var self=$scope;self.obj={},self.signup=function(){if(self.obj.email!==self.reEmail)return alert("Email doesn't match.");self.obj.dob=self.month+"/"+self.day+"/"+self.year,console.log("displaying object ==>"+JSON.stringify(self.obj)),qualityControlSerevice.postReq("register",self.obj).then(function(result){console.log("file==>"+JSON.stringify(result)),alert(result.data.response.responseMessage),$state.transitionTo("login")}).catch(function(e){console.log("JSON==>"+JSON.stringify(e))})},self.loginRoute=function(){$state.transitionTo("login")}}),app.service("qualityControlSerevice",function($q,$http){this.postReq=function(url,data){var absolutePath="http://localhost:4009/chat_bot/api/v1/user/"+url,defer=$q.defer();return $http.post(absolutePath,data).then(function(success){defer.resolve(success)},function(error){defer.reject(error)}),defer.promise}}),app.factory("socket",["$rootScope",function($rootScope){return{on:function(eventName,callback){socket.on(eventName,function(){var args=arguments;$rootScope.$apply(function(){callback.apply(socket,args)})})},emit:function(eventName,data,callback){socket.emit(eventName,data,function(){var args=arguments;$rootScope.$apply(function(){callback&&callback.apply(socket,args)})})},disconnect:function(){socket.disconnect()},socket:socket}}]);